gmix-fit

    for use in the paper
        by S/N
        gg05r01
        et04r02 but rerun with more s2n and s2n_fac = 80
        dt03r03r04
    todo:

        - et03, which had trimming, ran much faster.  If it was also accurate,
          we should maybe use it instead of et02, which deswl is super slow.

        - gg04r01, r02, r03 rerun with s2n_fac=10?

        - I'm seeing some additive bias for edg03 shear=0.  Do a couple more
          sims with different g1 and map it all out?
             - edg04 g1=0.01,g2=?
             - edg05 g1=0.02,g2=?
             - edg06 g1=0.03,g2=?
             - edg07 g1=0.04,g2=?
             - edg08 g1=0.05,g2=?

        sent around
            gg04
                s/n 0.33 
                    gmix-fit-gg04r01
                    deswl-gg04r01
                byellip low noise
                    gmix-fit-gg04r09
                    deswl-gg04r0?
            et02
                s/n 0.33
                    gmix-fit-et02r09
                    deswl-et02r03    (not finished)
                    OR since these are finished
                    gmix-fit-et02r08
                    desw-et02r02
                byellip low noise
                    deswl-et02r04 running
                    gmix-fit-et02r01
            dt02
                NEED to tell story of how error is a function
                of ellipticity, but we haven't run the sims 
                for byellip with different S/N.

                s/n e=0.33
                    gmix-fit-dt02r02 (not finished)
                    gmix-fit-dt02r02 cum, no s2limit (not finished)
                    deswl-dt02r03    (not finished)
                    deswl-dt02r03    cum, no s2limit (not finished)
                byellip low noise
                    use yrange -0.1,0.1
                    gmix-fit-dt02r01
                    deswl-dt02r02


    sims
        et01
            - am running et01r05 with add to cache, 1000 per.
        dt01
            - have about 100-200 per as of now.  Some with same seeds.

    ring sims

        gg03
            - ring, shear g1=0.01, 1000 in ring, but ring/s2 ratios seem
            incomplete?

            gmix
                byellip
                    run        s/n   nrepeat       notes
                    gg03r01 - 1.e6         1
                    gg03r02 - 100          1
                    gg03r03 - 47           1
                    gg03r04 - 22          10       
                    gg03r05 - 11          10
                    gg03r06 - 5           40
                bys2n
                    gg03r07
        gg04 
            - ring, g1=0.01,g2=-0.01, 100 in ring
            gmix
                byellip
                    run     S/N  nrepeat  notes
                    rerun for wrong s2n_method
                    gg04r04 100   algo    done
                    gg04r05  47   algo    done
                    gg04r06  22   algo    done
                    gg04r07  11   algo    done
                    gg04r08   5   algo    done?
                    gg04r09 1.e6  algo    done

                by s/n
                    # these we should re-run with s2n_fac=10
                    run      ie    e  s2n_method  notes
                    gg04r01   7 .33     matched   done
                    gg04r02  19 .80     matched   done
                    gg04r03   0 .05     matched   done
            deswl
                by s/n
                    run      ie    e  s2n_method  notes
                    gg04r01   7 .33     matched   done
                    gg04r02  19 .80     matched   done
                    gg04r03   0 .05     matched   done
                byellip
                    run     S/N  nrepeat  notes
                    gg04r04 1.e6  algo    todo

        gg05 
            - ring.  Fewer s2 but will do more trials per run
            gmix
                by s/n
                    run      ie    e  s2n_method   notes
                    gg05r01   7  .33     matched   s2n_fac=40
                                                    specific S/N values
                                                   [5,10,15,20,25,30,40,50,60,70,80,90,100]
                                                   bytrial for all
                                                   rerunning



        et02
            - ring, shear g1=0.01, 100 in ring
                - Should have restricted to gen3,gen5 for first ~5 s2 values,
                  had some swapping.

            gmix
                byellip (I think these were unweighted S/N)
                    run       s/n   nrepeat       notes
                    et02r01  1.e6         1       done
                    et02r02   100         1       done
                    et02r03    47         1       done
                    et02r04    22        10       done
                    et02r05    11        40       todo
                    et02r06     5        160      todo


                by s/n
                    run      ie    e  s2n_method   notes
                    et02r07   0  .05     matched   done
                    et02r08  19  .80     matched   done
                    et02r09   7  .33     matched   done
            deswl
                byellip
                    run       s/n   nrepeat       notes
                    et02r04  1.e6         1       running

                by s/n
                    run      ie    e  s2n_method   notes
                    et02r01   0  .05     matched   done
                    et02r02  19  .80     matched   done
                    et02r03   7  .33     matched   done

        et03
            - ring, shear g1=0.01, g2=-0.01, 100 in ring
            with *trimming* for a big speedup.  It is just
            as accurate!

            gmix
                by s/n
                    run      ie    e  s2n_method   notes
                    et03r01   7  .33     matched   done
                    et03r02  19  .80     matched   todo
                    et03r03   0  .05     matched   todo
                byellip
                    run     S/N   nrepeat  notes
                    et03r04 1.e6   algo    done
                    et03r05  100   algo    done
                    et03r06   47   algo    done
                    et03r07   22   algo    done
                    et03r08   11   algo    combining
                        did bytrial but probably not necessary
                    et03r09    5   algo    bytrial, combine and average
            deswl
                by s/n
                    run      ie    e  s2n_method   notes
                    et03r01   7  .33     matched   todo
                    et03r02  19  .80     matched   todo
                    et03r03   0  .05     matched   todo
                byellip
                    run     S/N   nrepeat  notes
                    et03r04 1.e6   algo    todo

        et04
            - ring.  Fewer s2 but will do more trials per run
            gmix
                by s/n
                    run      ie    e  s2n_method   notes
                    et04r01   7  .33     matched   s2n_fac=5
                                                   bytrial is2n <= 3, might 
                                                   have wanted <=4 with
                                                   s2n_fac=5
                    et04r02   7  .33     matched   s2n_fac=20
                                                   10 specific S/N values
                                                   [5,10,15,20,25,30,40,60,80,100]
                                                   bytrial for all
                                                   done

        edg02 redoing with fewer s2
            round double gaussian psf
            g1=0.01,g2=-0.01

            gmix
                byellip
                    run        s/n   nrepeat  s2n_method      notes
                    edg02r01  1.e8      1       matched       done

                by s/n
                    run      ie    e  s2n_method   notes
                    edg02r02  7 0.33    matched    rerunning
                    edg02r03 19 0.80    matched    todo
                    edg02r04  0 0.05    matched    todo

    edg03r02,edg04r01,edg05r01,edg06r01,edg07r01,edg08r01 
    0.0      0.01     0.02     0.03     0.04     0.05
    elliptical psf and shear increasing
    from 0 to 0.05
        edg03
            elliptical double gaussian psf, 
                e1=0.05,e2=0.05
                g1=0,g2=0

            gmix
                byellip
                    run        s/n   nrepeat  s2n_method      notes
                    edg03r01  1.e8      1       matched       done
                    old sim

                by s/n
                    run      ie    e  s2n_method   notes
                    edg03r02  7 0.33    matched    done
                    edg03r03 19 0.80    matched    done
                    old sim
                    edg03r04  0 0.05    matched    done
                    old sim
        edg04
            elliptical double gaussian psf, 
                e1=0.05,e2=0.05
                g1=0.01,g2=-0.01
            gmix
                by s/n
                    run      ie    e  s2n_method   notes
                    edg04r01  7 0.33    matched    done

        edg05
            elliptical double gaussian psf, 
                e1=0.05,e2=0.05
                g1=0.02,g2=-0.02
            gmix
                by s/n
                    run      ie    e  s2n_method   notes
                    edg05r01  7 0.33    matched    done
        edg06
            elliptical double gaussian psf, 
                e1=0.05,e2=0.05
                g1=0.03,g2=-0.03
            gmix
                by s/n
                    run      ie    e  s2n_method   notes
                    edg06r01  7 0.33    matched    done
        edg07
            elliptical double gaussian psf, 
                e1=0.05,e2=0.05
                g1=0.04,g2=-0.04
            gmix
                by s/n
                    run      ie    e  s2n_method   notes
                    edg07r01  7 0.33    matched    done

        edg08
            elliptical double gaussian psf, 
                e1=0.05,e2=0.05
                g1=0.05,g2=-0.05
            gmix
                by s/n
                    run      ie    e  s2n_method   notes
                    edg08r01  7 0.33    matched    done


    *round* psf and shear increasing.  See above for edg02
    edg09,edg02,edg10,edg11,edg12,edg13
      .00   .01   .02   .03   .04   .05

        edg09
            round double gaussian psf
            g1=0.00,g2=0.00
            gmix
                by s/n
                    run      ie    e  s2n_method   notes
                    edg09r01  7 0.33    matched    todo



        dt02
            - ring, shear g1=0.01, g2=0, 100 in ring
         
            gmix
                byellip
                    run        s/n   nrepeat  s2n_method      notes
                    dt02r01  1.e8       1         uw 
                    dt02r04  100   algo    todo
                    dt02r05   47   algo    todo
                    dt02r06   22   algo    todo
                    dt02r07   11   algo    todo
                    dt02r08    5   algo    todo

                by s/n
                    run      ie    e  s2n_method   notes
                    dt02r02   7 0.33    matched    done
                    dt02r03  19 0.80    matched    died S/N=5
 
            deswl
                byellip
                    run        s/n   nrepeat  s2n_method      notes
                    dt02r02    1.e8     1      matched        died?
                    
                by s/n
                    run      ie    e  s2n_method   notes
                    dt02r01  19 0.80   matched     running (died)
                    dt02r03   7 0.33   matched     running died re-running 000-000
                                                                           001-000
        dt03
            - ring.  Fewer s2 but will do more trials per run

            ncores=4 and groupes [gen3,gen5]
            gmix
                by s/n
                    run      ie    e  s2n_method   notes
                    dt03r01   7  .33     matched   todo
                                                   s2n_fac=20
                                                   10 specific S/N values
                                                   [5,10,15,20,25,30,40,60,80,100]
                                                   bytrial all
                    dt03r02   7  .33     matched   todo
                                                   retrim_fluxfrac: 0.95
                                                   (retrim didn't change things much but sped up)
                                                   s2n_fac=20
                                                   [5,10,15,20,25,30,40,50,60,70,80,90,100]
                                                   bytrial all

                    dt03r03   7  .33     matched   same as dt03r02 with s2n_fac=80
                                                   retrim_fluxfrac: 0.95
                    dt03r04   7  .33     matched   Same as dt03r03 but another to average
                                                   with it for more statistics.
                                                   Also uses new C code for rendering
                    run dt03r03r04 is the average



    low noise runs
        et01r04
            - very glad I reran the 03 run with better guesses, this one looks
              great
        dt01r05

    noisy runs
        S/N
        100
            et01r05
                - with noise, we might want to interpolate the par results from
                  et01r04, let's see first.
            dt01r06 
                - only 100 realizations, need more
